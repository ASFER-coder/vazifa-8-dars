

{% block content %}
<div class="container mx-auto w-1/2">

    <h1 class="text-3xl text-center my-4">Expense Tracker</h1>
    <p class="text-center text-gray-500 mb-6">Add your expenses</p>

    <div class="bg-gray-100 p-4 rounded mb-6">
        <div class="flex justify-between text-sm text-gray-600">
            <span>Total Amount:</span>
            <span>Total Items:</span>
        </div>
        <div class="flex justify-between text-2xl font-bold">
            <span>${{ jami_miqdori }}</span>
            <span>{{ jami_soni }}</span>
        </div>
    </div>

    <form action="{% url 'create' %}" method="post" class="bg-gray-100 p-4 rounded mb-6">
        {% csrf_token %}
        <input type="text" name="description" placeholder="Description"
               class="w-full p-2 border rounded mb-3">
        <input type="number" name="amount" placeholder="Amount"
               class="w-full p-2 border rounded mb-3">
        <select name="category" class="w-full p-2 border rounded mb-3">
            <option value="food">Food</option>
            <option value="transport">Transport</option>
            <option value="shopping">Shopping</option>
            <option value="bills">Bills</option>
        </select>
        <button type="submit" class="w-full bg-gray-800 text-white p-2 rounded">Add Expense</button>
    </form>

    {% for expense in expenses %}
    <div class="bg-white border p-4 rounded mb-4 flex justify-between items-center">
        <div>
            <h3 class="font-semibold">{{ expense.description }}</h3>
            <p class="text-sm text-gray-500">{{ expense.category }} | {{ expense.created_at }}</p>
        </div>
        <div class="flex items-center gap-2">
            <p class="text-xl font-bold">${{ expense.amount }}</p>
            <form action="{% url 'delete' expense.id %}" method="post">
                {% csrf_token %}
                <button class="bg-red-500 text-white px-3 py-1 rounded">ðŸ—‘</button>
            </form>
        </div>
    </div>
    {% empty %}
    <p class="text-center text-gray-500">No expenses yet.</p>
    {% endfor %}

</div>
{% endblock %}